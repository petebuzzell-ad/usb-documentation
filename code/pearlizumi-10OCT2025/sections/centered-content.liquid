{% assign mb_class = 'mb-0' %}{% if section.settings.enable_bottom_margin %}{% assign mb_class = 'mb-20 md:mb-40' %}{% endif %}
  <div data-section-id="{{ section.id }}" data-section-type="centered-content" id="section-{{ number }}" class="relative px-6 {{ mb_class }}">
    <div class="max-w-full md:max-w-1200 mx-auto relative">
  
      {% if section.settings.image != blank or section.settings.video != blank or section.settings.youtube_video != blank %}
        <div class="centered-content__bg relative">
          {% if section.settings.video != blank or section.settings.video_1 != blank %}
            <video class="centered-content__video w-full min-h-450 object-cover" loop="true" muted="true" playsinline>
              <source src="{{ section.settings.video }}" type="video/webm" />
              <source src="{{ section.settings.video_1 }}" type="video/mp4" />
            </video>
            <div class="centered-content__bg-overlay absolute inset-0">
              {% if section.settings.image != blank %}
                <picture>
                  <source media="(min-width:768px)" srcset="{{ section.settings.image | img_url: 'master' }}">
                  <source media="(max-width:767px)" srcset="{% if section.settings.image_mobile != blank %}{{ section.settings.image_mobile | img_url: 'master' }}{% endif %}">
                  <img class="lazy centered-content__bg-image w-full h-full min-h-450 object-cover" data-src="{{ section.settings.image | img_url: 'master' }}" alt="{{ section.settings.image.alt | escape }}" />
                </picture>
              {% endif %}
              <span class="play-video-btn bg-bright-yellow hover:bg-[faded-bright-yellow] w-8.5 h-8.5 lg:w-23.5 lg:h-23.5 rounded-full absolute top-1/2 left-1/2 cursor-pointer transform -translate-x-1/2 -translate-y-1/2 z-1" data-video="{{video_src | strip }}">
                {%- render 'svg-play-light', classes: 'absolute z-2 top-1/2 left-1/2 cursor-pointer transform -translate-y-1/2 -translate-x-1/3 w-4 h-6 lg:w-8 lg:h-12' -%}
              </span>
            </div>
          {% elsif section.settings.youtube_video != blank %}
            <div class="centered-content__video relative pt-[56.25%] min-h-450" data-yt-video-id="{{ section.settings.youtube_video.id }}">
              <iframe id="yt_video_{{ section.id }}" class="absolute inset-0" src="https://www.youtube.com/embed/{{ section.settings.youtube_video.id }}?rel=0&version=3&controls=0&showinfo=0&playlist={{ section.settings.youtube_video.id }}&enablejsapi" width="100%" height="100%" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
            <div class="centered-content__bg-overlay absolute inset-0">
              {% if section.settings.image != blank %}
                <picture>
                  <source media="(min-width:768px)" srcset="{{ section.settings.image | img_url: 'master' }}">
                  <source media="(max-width:767px)" srcset="{% if section.settings.image_mobile != blank %}{{ section.settings.image_mobile | img_url: 'master' }}{% endif %}">
                  <img class="lazy centered-content__bg-image w-full h-full min-h-450 object-cover" data-src="{{ section.settings.image | img_url: 'master' }}" alt="{{ section.settings.image.alt | escape }}" />
                </picture>
              {% endif %}
              <span class="play-video-btn bg-bright-yellow hover:bg-[faded-bright-yellow] w-8.5 h-8.5 lg:w-23.5 lg:h-23.5 rounded-full absolute top-1/2 left-1/2 cursor-pointer transform -translate-x-1/2 -translate-y-1/2 z-1" data-video="{{video_src | strip }}">
                {%- render 'svg-play-light', classes: 'absolute z-2 top-1/2 left-1/2 cursor-pointer transform -translate-y-1/2 -translate-x-1/3 w-4 h-6 lg:w-8 lg:h-12' -%}
              </span>
            </div>
          {% elsif section.settings.image != blank %}
            <picture>
              <source media="(min-width:768px)" srcset="{{ section.settings.image | img_url: 'master' }}">
              <source media="(max-width:767px)" srcset="{% if section.settings.image_mobile != blank %}{{ section.settings.image_mobile | img_url: 'master' }}{% endif %}">
              <img class="lazy centered-content__bg-image w-full h-full min-h-450 object-cover" data-src="{{ section.settings.image | img_url: 'master' }}" alt="{{ section.settings.image.alt | escape }}" />
            </picture>
          {% endif %}
        </div>
      {% endif %}
  
    </div>
  </div>

{% schema %}
{
  "name": "Centered Content",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Desktop Image",
      "info": "1900px wide"
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "Mobile Image",
      "info": "recommended size: 577px x 866px -- images up to 768px wide with a similar aspect ratio (~2:3) will work"
    },
    {
      "type": "url",
      "id": "video",
      "label": "Background Video (WEBM)"
    },
    {
      "type": "url",
      "id": "video_1",
      "label": "Background Video (MP4)"
    },
    {
      "type": "video_url",
      "id": "youtube_video",
      "accept": ["youtube"],
      "label": "Background Video (Youtube)"
    },
    {
      "type": "checkbox",
      "id": "enable_bottom_margin",
      "label": "Enable Bottom Margin",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Centered Content"
    }
  ]  
}
{% endschema %}
