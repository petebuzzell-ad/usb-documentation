{%- comment -%}

Dearest future eHouse developer,

I want to apologize for the complexity that you will find as you peel back the layers of this project.

The requirements shifted beneath our feet, and we had to make compromises or quick decisions to adjust.
The client also had multiple competing priorities, some of which required us to make concessions or remove entire
pieces of functionality that were built for the launch.

Please don't hold this code against only me personally - it's the product of multiple failures.

I have some ideas in mind for refactoring this code, the most important of which is probably creating
an ES6 class to encompass the Buy Box. Currently, we are forced to update Buy Box code on the PDP and the Quickview separately.
In an ideal world, that would be one class which gets extended for the Quickview portion, so the logic/pricing/etc. can be managed in one place.

God speed, and good luck with all of this.

Sincerely,
Cam

{%- endcomment -%}
{% liquid
  if shop.permanent_domain == 'pearlizumi.myshopify.com'
    assign storefront = "US"
  elsif shop.permanent_domain == 'pearlizumi-ca.myshopify.com'
    assign storefront = "CA"
  elsif shop.permanent_domain == 'pearl-izumi-int.myshopify.com'
    assign storefront = "INT"
  endif
%}

<div class="px-6 md:px-14 xl:px-22.5 max-w-[124.5rem] mx-auto my-4 md:my-8">
  {% render 'breadcrumbs' template: template, product: product %}
</div>
<div id="productTemplate" class="transition-opacity opacity-0"
  data-product-handle="{{ product.handle }}"
  data-product-type="onetime"
  data-gift-card
>
  <h1 class="hidden">{{ product.title }}</h1>

  <!-- Above The Fold Container -->
  <div class="w-full md:px-14 xl:px-22.5 xl:mb-14 max-w-[124.5rem] mx-auto">
    <!-- Mobile Buy Box Info -->
    <div class="md:hidden">
      {% render 'product-buy-box-info', mobile: true, product: product, quickview: quickview, storefront: storefront, gift_card: true %}
    </div>

    <!-- Gallery & Buy Box -->
    <div class="flex w-full flex-col md:flex-row md:gap-6">
      <div class="w-full md:w-2/3 md:max-w-product-gallery-desktop">
        {% render 'product-gallery', product: product, quickview: quickview, storefront: storefront, gift_card: true %}
      </div>
      <div class="px-6 md:px-0 md:max-w-1/3 md:flex-1">
        {% render 'product-buy-box',
          product: product,
          gift_card: true,
          storefront: storefront
        %}
      </div>
    </div>
  </div>
</div>

{% render 'product-seo-schema' product: product %}
