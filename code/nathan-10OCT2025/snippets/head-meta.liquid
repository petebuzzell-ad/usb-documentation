{% assign social_type = 'website' %}
{% assign social_title = page_title | strip_html %}
{% assign social_description = page_description | strip_html | escape %}
{% assign social_image = '//cdn.shopify.com/s/files/1/0059/6253/0904/files/NS24_ehouse_metaimg.jpg?v=1710966374' %}

{% if template contains 'product' %}
  {% assign social_type = 'product' %}
  {% assign social_title = product.title | strip_html %}
  {% assign social_price = product.price | money_without_currency | strip_html | escape %}
  {% assign social_currency = shop.currency %}
  {% if product.featured_image %}
    {% assign social_product_img = current_variant.featured_image | default: product.featured_image %}
    {% assign social_image = social_product_img | img_url: '1024x' %}
  {% endif %}
{% elsif template contains 'collection' %}
  {% if collection.description != blank %}
    {% assign social_description = collection.description | strip_html | escape %}
  {% endif %}
  {% if collection.image %}
    {% assign social_image = collection.image | img_url: 'master' %}
  {% endif %}
{% elsif template contains 'blog' %}
  {% for article in blog.articles %}
    {% if article.image %}
      {% assign social_image = article.image | img_url: 'master' %}
      {% break %}
    {% endif %}
  {% endfor %}
{% elsif template contains 'article' %}
  {% assign social_type = 'article' %}
  {% assign img_tag = '<' | append: 'img' %}
  {% if article.image %}
    {% assign social_image = article.image | img_url: 'master' %}
  {% elsif article.content contains img_tag %}
    {% assign src = article.content | split: 'src="' %}
    {% assign src = src[1] | split: '"' | first | remove: 'https:' | remove: 'http:' %}
    {% assign social_image = src %}
  {% endif %}
{% endif %}

{% if social_title contains '"' %}
  {% assign social_title = social_title | escape %}
{% endif %}

{% comment %}
  Page-level Overrides

  Override variable assignments below this
  using `template contains` and similar operators.
{% endcomment %}

{%- comment %}<locksmith:3d5a>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="description" content="{{social_description | default: shop.name}}" />{% endif -%}
  {%- comment %}original: <meta name="description" content="{{social_description | default: shop.name}}" />{%- endcomment %}
{%- comment %}</locksmith:3d5a>{% endcomment -%}
<meta property="og:url" content="{{canonical_url}}">
<meta property="og:site_name" content="{{shop.name}}">
{%- comment %}<locksmith:f8ee>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:type" content="{{social_type | default: 'website'}}">{% endif -%}
  {%- comment %}original: <meta property="og:type" content="{{social_type | default: 'website'}}">{%- endcomment %}
{%- comment %}</locksmith:f8ee>{% endcomment -%}
{%- comment %}<locksmith:1d8e>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:title" content="{{social_title | default: shop.name}}">{% endif -%}
  {%- comment %}original: <meta property="og:title" content="{{social_title | default: shop.name}}">{%- endcomment %}
{%- comment %}</locksmith:1d8e>{% endcomment -%}
{%- comment %}<locksmith:8bc2>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:description" content="{{social_description | default: shop.name}}">{% endif -%}
  {%- comment %}original: <meta property="og:description" content="{{social_description | default: shop.name}}">{%- endcomment %}
{%- comment %}</locksmith:8bc2>{% endcomment -%}
{%- comment %}<locksmith:ed61>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image" content="http:{{social_image}}">{% endif -%}
  {%- comment %}original: <meta property="og:image" content="http:{{social_image}}">{%- endcomment %}
{%- comment %}</locksmith:ed61>{% endcomment -%}
{%- comment %}<locksmith:302b>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image:secure_url" content="https:{{social_image}}">{% endif -%}
  {%- comment %}original: <meta property="og:image:secure_url" content="https:{{social_image}}">{%- endcomment %}
{%- comment %}</locksmith:302b>{% endcomment -%}
{% if social_price %}{%- comment %}<locksmith:31af>{% endcomment -%}{%- capture var %}{% render 'locksmith-variables', variable: 'access_granted' %}{% endcapture %}{% if var == 'true' %}<meta property="og:price:amount" content="{{social_price}}">{% endif -%}{%- comment %}original: <meta property="og:price:amount" content="{{social_price}}">{%- endcomment %}{%- comment %}</locksmith:31af>{% endcomment -%}{% endif %}
{% if social_currency %}{%- comment %}<locksmith:6a9d>{% endcomment -%}{%- capture var %}{% render 'locksmith-variables', variable: 'access_granted' %}{% endcapture %}{% if var == 'true' %}<meta property="og:price:currency" content="{{social_currency}}">{% endif -%}{%- comment %}original: <meta property="og:price:currency" content="{{social_currency}}">{%- endcomment %}{%- comment %}</locksmith:6a9d>{% endcomment -%}{% endif %}

{%- comment %}<locksmith:6f29>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:title" content="{{social_title | default: shop.name}}">{% endif -%}
  {%- comment %}original: <meta name="twitter:title" content="{{social_title | default: shop.name}}">{%- endcomment %}
{%- comment %}</locksmith:6f29>{% endcomment -%}
{%- comment %}<locksmith:2afd>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:description" content="{{social_description | default: shop.name}}">{% endif -%}
  {%- comment %}original: <meta name="twitter:description" content="{{social_description | default: shop.name}}">{%- endcomment %}
{%- comment %}</locksmith:2afd>{% endcomment -%}
<meta name="twitter:card" content="summary_large_image">
{%- comment %}<locksmith:05e5>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:image" content="https:{{social_image}}">{% endif -%}
  {%- comment %}original: <meta name="twitter:image" content="https:{{social_image}}">{%- endcomment %}
{%- comment %}</locksmith:05e5>{% endcomment -%}
{%- comment %}<locksmith:ab17>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:image:width" content="480">{% endif -%}
  {%- comment %}original: <meta name="twitter:image:width" content="480">{%- endcomment %}
{%- comment %}</locksmith:ab17>{% endcomment -%}
{%- comment %}<locksmith:ff01>{% endcomment -%}
  {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:image:height" content="480">{% endif -%}
  {%- comment %}original: <meta name="twitter:image:height" content="480">{%- endcomment %}
{%- comment %}</locksmith:ff01>{% endcomment -%}
