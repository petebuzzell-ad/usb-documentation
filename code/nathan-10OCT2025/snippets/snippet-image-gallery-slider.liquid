{% assign mb_class = 'mb-0' %}{% if block.settings.enable_bottom_margin %}{% assign mb_class = 'mb-20 md:mb-40' %}{% endif %}
<div data-section-id="{{ block.id }}" data-section-type="image-gallery-slider" id="section-{{ number }}" class="relative overflow-hidden {{ mb_class }}">
  {% if block.settings.title != blank or block.settings.text != blank %}
    <div class="w-full px-6">
      <div class="max-w-full md:max-w-1200 mx-auto">
        {% if block.settings.title != blank %}
          <h2 class="mb-6 md:mb-8 uppercase overflow-hidden">
            {%- if underline == true -%}
              <span class="relative">
                <span class="z-1 relative">{{ block.settings.title }}</span>
                <span class="absolute left-0 bottom-0 bg-sand z-0 w-underline-mobile h-4 lg:w-underline-desktop lg:h-5.5"></span>
              </span>
            {%- else -%}
              {{ block.settings.title }}
            {%- endif -%}
          </h2>
        {% endif %}
        {% if block.settings.text != blank %}
          <p class="mb-10">{{ block.settings.text }}</p>
        {% endif %}
      </div>
    </div>
  {% endif %}
  {% assign slider_nav = "" %}

  <div class="clp-slider relative">
    <div class="image-gallery-slider md:w-full overflow-x-visible">
      <div class="glide__track" data-glide-el="track">
        <div class="glide__slides w-full">
          {% for i in (1..5) %}
            {% assign key_image = 'image_' | append: i %}
            {% assign key_image_m = 'image_m_' | append: i %}
            {% unless block.settings[key_image] == blank and block.settings[key_image_m] == blank %}
              <div class="glide__slide w-full">
                {% if block.settings[key_image] != blank %}
                  <div class="image-gallery-slider__image relative">
                    <img class="lazy absolute inset-0 w-full h-full object-cover" data-src="{{ block.settings[key_image] | img_url: 'master' }}" alt="{{ block.settings[key_image].alt | escape }}" />
                    <picture>
                      <source media="(min-width:768px)" data-srcset="{{ block.settings[key_image] | img_url: 'master' }}">
                      <source media="(max-width:767px)" data-srcset="{% if block.settings[key_image_m] != blank %}{{ block.settings[key_image_m] | img_url: 'master' }}{% endif %}">
                      <img class="lazy absolute inset-0 w-full h-full object-cover" data-src="{{ block.settings[key_image] | img_url: 'master' }}" alt="{{ block.settings[key_image].alt | escape }}" />
                    </picture>
                  </div>
                {% endif %}
              </div>
              {% capture slider_nav %}
                {{ slider_nav }}
                <div class="glide__bullet mx-0.5 w-2 h-2 md:w-3 md:h-3 p-0.5 rounded-circle cursor-pointer" data-glide-dir="={{ forloop.index0 }}"><span class="block w-full h-full rounded-circle"></span></div>
              {% endcapture %}
            {% endunless %}
          {% endfor %}
        </div>
      </div>
      <div class="glide__bullets absolute bottom-4 md:bottom-6 w-full flex justify-center" data-glide-el="controls[nav]">
        {{ slider_nav }}
      </div>
      <div class="glide__arrows hidden md:flex absolute w-full top-1/2 transform -translate-y-1/2 justify-between px-18" data-glide-el="controls">
        <a href="#" class="glide__arrow glide__arrow--left button-slider-nav w-12.5 h-12.5 p-0 rounded-circle flex items-center justify-center" data-glide-dir="<">{% include 'svg-arrow-left' %}</a>
        <a href="#" class="glide__arrow glide__arrow--right button-slider-nav w-12.5 h-12.5 p-0 rounded-circle flex items-center justify-center" data-glide-dir=">">{% include 'svg-arrow-right' %}</a>
      </div>
    </div>
  </div>
</div>