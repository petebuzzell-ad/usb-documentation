{% liquid
  assign mb_class = 'mb-0'
  if section.settings.enable_bottom_margin
    assign mb_class = 'mb-20 md:mb-40'
  endif
  if section.settings.btn_style_1 == 'secondary'
    assign btn_style_1 = 'button-secondary'
  elsif section.settings.btn_style_1 == 'outline-dark'
    assign btn_style_1 = 'button-outline-dark'
  endif
  if section.settings.btn_style_2 == 'secondary'
    assign btn_style_2 = 'button-secondary'
  elsif section.settings.btn_style_2 == 'outline-dark'
    assign btn_style_2 = 'button-outline-dark'
  endif
%}

<div data-section-id="{{ section.id }}" data-section-type="2-grid" id="section-{{ number }}" class="relative px-0 md:px-5 overflow-hidden {{ mb_class }}">
  <div class="max-w-full mx-auto md:max-w-1200">
    <div class="flex flex-wrap -mx-2.5">
      <div class="w-full md:w-1/2 px-2.5">
        {% if section.settings.youtube_video_1 != blank %}
          {% if section.settings.image_1 != blank %}
            <div class="relative" data-section-type="centered-content">
              <div class="centered-content__video relative pt-[100%] opacity-0" data-yt-video-id="{{ section.settings.youtube_video_1.id }}">
                <iframe id="yt_video_{{ section.id }}_1" class="absolute inset-0" src="https://www.youtube.com/embed/{{ section.settings.youtube_video_1.id }}?rel=0&version=3&controls=0&showinfo=0&playlist={{ section.settings.youtube_video_1.id }}&loop=1&mute=1" width="100%" height="100%" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </div>
              <div class="absolute inset-0">
                <img class="lazy w-full h-full object-cover" data-src="{{ section.settings.image_1 | img_url: 'master' }}" alt="{{ section.settings.image_1.alt | escape }}" />
                <span class="play-video-btn bg-bright-yellow hover:bg-[faded-bright-yellow] w-8.5 h-8.5 lg:w-23.5 lg:h-23.5 rounded-full absolute top-1/2 left-1/2 cursor-pointer transform -translate-x-1/2 -translate-y-1/2 z-1" data-video="{{video_src | strip }}">
                  {%- render 'svg-play-light', classes: 'absolute z-2 top-1/2 left-1/2 cursor-pointer transform -translate-y-1/2 -translate-x-1/3 w-4 h-6 lg:w-8 lg:h-12' -%}
                </span>
              </div>
            </div>
          {% else %}
            <div class="relative pt-[100%]">
              <iframe class="absolute inset-0" src="https://www.youtube.com/embed/{{ section.settings.youtube_video_1.id }}?rel=0&version=3&controls=0&showinfo=0&playlist={{ section.settings.youtube_video_1.id }}&loop=1&mute=1&autoplay=1" width="100%" height="100%" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
          {% endif %}
        {% elsif section.settings.image_1 != blank %}
          <div class="relative pt-[100%]">
            <img class="lazy absolute inset-0 w-full h-full object-cover" data-src="{{ section.settings.image_1 | img_url: 'master' }}" alt="{{ section.settings.image_1.alt | escape }}" />
          </div>
        {% endif %}
        <div class="px-6 pb-20 md:px-0 md:pb-0">
          <div class="max-w-350">
            {% if section.settings.subtitle_1 != blank %}
              <p class="font-sora font-normal text-special uppercase mt-8 mb-0">{{ section.settings.subtitle_1 }}</p>
            {% endif %}
            {% if section.settings.title_1 != blank %}
              <h3 class="uppercase mt-4 mb-0">{{ section.settings.title_1 }}</h3>
            {% endif %}
            {% if section.settings.text_1 != blank %}
              <p class="mt-4.5 mb-0">{{ section.settings.text_1 }}</p>
            {% endif %}
            {% if section.settings.btn_label_1 != blank and section.settings.btn_link_1 != blank %}
              <a href="{{ section.settings.btn_link_1 }}" class="{{ btn_style_1 }} block w-full max-w-btn mt-8 mb-0 md:mt-10">{{ section.settings.btn_label_1 }}</a>
            {% endif %}
          </div>
        </div>
      </div>
      <div class="w-full md:w-1/2 px-2.5">
        {% if section.settings.youtube_video_2 != blank %}
          {% if section.settings.image_2 != blank %}
            <div class="relative" data-section-type="centered-content">
              <div class="centered-content__video relative pt-[100%] opacity-0" data-yt-video-id="{{ section.settings.youtube_video_2.id }}">
                <iframe id="yt_video_{{ section.id }}_2" class="absolute inset-0" src="https://www.youtube.com/embed/{{ section.settings.youtube_video_2.id }}?rel=0&version=3&controls=0&showinfo=0&playlist={{ section.settings.youtube_video_2.id }}&loop=1&mute=1" width="100%" height="100%" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </div>
              <div class="absolute inset-0">
                <img class="lazy w-full h-full object-cover" data-src="{{ section.settings.image_2 | img_url: 'master' }}" alt="{{ section.settings.image_2.alt | escape }}" />
                <span class="play-video-btn bg-bright-yellow hover:bg-[faded-bright-yellow] w-8.5 h-8.5 lg:w-23.5 lg:h-23.5 rounded-full absolute top-1/2 left-1/2 cursor-pointer transform -translate-x-1/2 -translate-y-1/2 z-1" data-video="{{video_src | strip }}">
                  {%- render 'svg-play-light', classes: 'absolute z-2 top-1/2 left-1/2 cursor-pointer transform -translate-y-1/2 -translate-x-1/3 w-4 h-6 lg:w-8 lg:h-12' -%}
                </span>
              </div>
            </div>
          {% else %}
            <div class="relative pt-[100%]" data-section-type="centered-content">
              <iframe class="absolute inset-0" src="https://www.youtube.com/embed/{{ section.settings.youtube_video_2.id }}?rel=0&version=3&controls=0&showinfo=0&playlist={{ section.settings.youtube_video_2.id }}&loop=1&mute=1&autoplay=1" width="100%" height="100%" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
          {% endif %}
        {% elsif section.settings.image_2 != blank %}
          <div class="relative pt-[100%]">
            <img class="lazy absolute inset-0 w-full h-full object-cover" data-src="{{ section.settings.image_2 | img_url: 'master' }}" alt="{{ section.settings.image_2.alt | escape }}" />
          </div>
        {% endif %}
        <div class="px-6 md:px-0">
          <div class="max-w-350">
            {% if section.settings.subtitle_2 != blank %}
              <p class="font-sora font-normal text-special uppercase mt-8 mb-0">{{ section.settings.subtitle_2 }}</p>
            {% endif %}
            {% if section.settings.title_2 != blank %}
              <h3 class="uppercase mt-4 mb-0">{{ section.settings.title_2 }}</h3>
            {% endif %}
            {% if section.settings.text_2 != blank %}
              <p class="mt-4.5 mb-0">{{ section.settings.text_2 }}</p>
            {% endif %}
            {% if section.settings.btn_label_2 != blank and section.settings.btn_link_2 != blank %}
              <a href="{{ section.settings.btn_link_2 }}" class="{{ btn_style_2 }} block w-full max-w-btn mt-8 mb-0 md:mt-10">{{ section.settings.btn_label_2 }}</a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "1/2 Grid CTA",
  "settings": [
    {
      "type": "header",
      "content": "First Grid CTA"
    },
    {
      "type": "image_picker",
      "id": "image_1",
      "label": "Grid 1 Image"
    },
    {
      "type": "video_url",
      "id": "youtube_video_1",
      "accept": ["youtube"],
      "label": "Grid 1 Background Video (Youtube)"
    },
    {
      "type": "text",
      "id": "subtitle_1",
      "label": "Grid 1 Subtitle"
    },
    {
      "type": "text",
      "id": "title_1",
      "label": "Grid 1 Title"
    },
    {
      "type": "text",
      "id": "text_1",
      "label": "Grid 1 Text"
    },
    {
      "type": "text",
      "id": "btn_label_1",
      "label": "Grid 1 Button Label"
    },
    {
      "type": "url",
      "id": "btn_link_1",
      "label": "Grid 1 Button Link"
    },
    {
      "type": "select",
      "id": "btn_style_1",
      "label":"Grid 1 Button Style",
      "default": "outline-dark",
      "options": [
        {
          "label": "Outline Dark",
          "value": "outline-dark"
        },
        {
          "label": "Secondary",
          "value": "secondary"
        }
      ]
    },
    {
      "type": "header",
      "content": "Second Grid CTA"
    },
    {
      "type": "image_picker",
      "id": "image_2",
      "label": "Grid 2 Image"
    },
    {
      "type": "video_url",
      "id": "youtube_video_2",
      "accept": ["youtube"],
      "label": "Grid 2 Background Video (Youtube)"
    },
    {
      "type": "text",
      "id": "subtitle_2",
      "label": "Grid 2 Subtitle"
    },
    {
      "type": "text",
      "id": "title_2",
      "label": "Grid 2 Title"
    },
    {
      "type": "text",
      "id": "text_2",
      "label": "Grid 2 Text"
    },
    {
      "type": "text",
      "id": "btn_label_2",
      "label": "Grid 2 Button Label"
    },
    {
      "type": "url",
      "id": "btn_link_2",
      "label": "Grid 2 Button Link"
    },
    {
      "type": "select",
      "id": "btn_style_2",
      "label":"Grid 2 Button Style",
      "default": "outline-dark",
      "options": [
        {
          "label": "Outline Dark",
          "value": "outline-dark"
        },
        {
          "label": "Secondary",
          "value": "secondary"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "enable_bottom_margin",
      "label": "Enable Bottom Margin",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "1/2 Grid CTA"
    }
  ]
}

{% endschema %}